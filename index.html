<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contrato - Exención de Obligación de Pago de Hamburguesa</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden; /* Hide scrollbar initially */
        }

        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 90%;
            width: 400px;
            box-sizing: border-box;
        }

        .modal-content h2 {
            margin-top: 0;
            color: #333;
        }

        .modal-content p {
            color: #555;
            margin-bottom: 20px;
        }

        #signatureCanvas {
            border: 1px solid #ccc;
            border-radius: 4px;
            background-color: #eee;
            cursor: crosshair;
            touch-action: none; /* Prevent scrolling/zooming on touch */
        }

        .button-container {
            margin-top: 20px;
            display: flex;
            justify-content: space-around;
            gap: 10px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease, opacity 0.3s ease;
        }

        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            opacity: 0.6;
        }

        #clearSignatureBtn {
             background-color: #f0f0f0;
            color: #555;
            border: 1px solid #ccc;
        }

        #clearSignatureBtn:hover:not(:disabled) {
            background-color: #e0e0e0;
        }


        #acceptSignatureBtn {
            background-color: #4CAF50;
            color: white;
        }

        #acceptSignatureBtn:hover:not(:disabled) {
            background-color: #45a049;
        }

        .contract-container {
            display: none; /* Hidden by default */
            background-color: #fff;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            max-width: 800px;
            width: 90%;
            text-align: left;
            line-height: 1.6;
            margin: 20px auto; /* Center and add space */
            overflow-y: auto; /* Allow scrolling if content is long */
            max-height: 90vh; /* Limit height */
        }

        .contract-container h1, .contract-container h2 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }

        .contract-container p {
            margin-bottom: 15px;
            color: #444;
        }

        .contract-container strong {
            color: #333;
        }

        .signature-line {
            margin-top: 40px;
            padding-top: 10px;
            border-top: 1px dashed #aaa;
            text-align: center;
            font-style: italic;
            color: #666;
        }
    </style>
</head>
<body>

    <div class="modal-backdrop" id="signatureModalBackdrop">
        <div class="modal-content">
            <h2>Acuerdo Requerido</h2>
            <p>Para acceder al documento, por favor, dibuje su firma en el recuadro de abajo:</p>
            <canvas id="signatureCanvas" width="350" height="150"></canvas>
            <div class="button-container">
                 <button id="clearSignatureBtn">Borrar</button>
                 <button id="acceptSignatureBtn" disabled>Aceptar y Firmar</button>
            </div>
        </div>
    </div>

    <div class="contract-container" id="contractContainer">
        <h1>CONTRATO DE EXENCIÓN DE OBLIGACIÓN DE PAGO</h1>
        <h2>Respecto a Bien Mueble Consumible Específico</h2>

        <p>En la ciudad de [Ciudad, Estado], a los catorce (14) días del mes de mayo del año dos mil veinticinco (2025), comparecen por una parte, en adelante "LA PARTE EXONERADA", el C. MARIO ALEJANDRO VÁZQUEZ RAMIREZ, con plena capacidad legal para obligarse; y por la otra parte, en adelante "LA PARTE EXONERANTE", [Nombre Completo de tu Novia], con plena capacidad legal para contraer derechos y obligaciones.</p>

        <p>Ambas partes, en conjunto denominadas "LAS PARTES", manifiestan su voluntad de celebrar el presente Contrato de Exención de Obligación de Pago (en adelante, el "CONTRATO"), al tenor de las siguientes:</p>

        <h2>DECLARACIONES</h2>

        <p><strong>I. De LA PARTE EXONERADA:</strong> Declara ser una persona física, mayor de edad, en pleno uso y goce de sus facultades, y que su identificación y datos personales son los que obran en poder de LA PARTE EXONERANTE, siendo plenamente consciente de la naturaleza y alcance del presente CONTRATO.</p>

        <p><strong>II. De LA PARTE EXONERANTE:</strong> Declara ser una persona física, mayor de edad, con domicilio conocido, y con interés legítimo en la celebración del presente CONTRATO, con el fin de formalizar un acuerdo previo verbal.</p>

        <p><strong>III. De LAS PARTES:</strong> Declaran conjuntamente que el objeto material del presente CONTRATO es un bien mueble consumible específico, consistente en una (1) "hamburguesa" consumida por LA PARTE EXONERADA en fecha trece (13) de mayo del año dos mil veinticinco (2025), cuya hora y lugar exactos son de conocimiento y acuerdo mutuo entre LAS PARTES (en adelante, "LA HAMBURGUESA"). Declaran asimismo que ha existido un acuerdo previo verbal en relación con LA HAMBURGUESA.</p>

        <p>Expuesto lo anterior, LAS PARTES convienen en sujetar el presente CONTRATO a las siguientes:</p>

        <h2>CLÁUSULAS</h2>

        <p><strong>CLÁUSULA ÚNICA. Exención de Obligación de Pago.</strong> LA PARTE EXONERANTE, en este acto, de forma libre y voluntaria, exonera y libera a LA PARTE EXONERADA, el C. MARIO ALEJANDRO VÁZQUEZ RAMIREZ, de cualquier y toda obligación presente o futura de pago, compensación o resarcimiento relacionada con el costo, valor o cualquier gasto asociado a LA HAMBURGUESA consumida el día trece (13) de mayo del año dos mil veinticinco (2025). LA PARTE EXONERADA, por su parte, acepta esta exención en todos sus términos y reconoce no tener pendiente obligación económica alguna respecto a LA HAMBURGUESA referida.</p>

        <p>LAS PARTES declaran que el presente CONTRATO se celebra de buena fe, sin dolo, error, violencia o lesión alguna, y que es la manifestación expresa de su voluntad respecto a la exención de pago de LA HAMBURGUESA.</p>

        <p>Leído que fue el presente CONTRATO y enteradas LAS PARTES de su contenido y alcance legal (para efectos del presente acuerdo), lo firman al calce el día de su fecha de celebración.</p>

        <div class="signature-line">
            C. Mario Alejandro Vázquez Ramirez <br> (LA PARTE EXONERADA)
        </div>

        <div class="signature-line">
            C. [Nombre Completo de tu Novia] <br> (LA PARTE EXONERANTE)
        </div>

        <p style="margin-top: 30px; text-align: center; font-size: 0.9em; color: #777;">Este documento se genera con fines demostrativos y carece de validez legal real.</p>

    </div>

    <script>
        const modalBackdrop = document.getElementById('signatureModalBackdrop');
        const signatureCanvas = document.getElementById('signatureCanvas');
        const clearSignatureBtn = document.getElementById('clearSignatureBtn');
        const acceptSignatureBtn = document.getElementById('acceptSignatureBtn');
        const contractContainer = document.getElementById('contractContainer');
        const ctx = signatureCanvas.getContext('2d');

        let drawing = false;
        let hasDrawn = false; // Flag to check if drawing has occurred
        let lastX = 0;
        let lastY = 0;

        // --- Canvas Setup ---
        // Ensure canvas is clear initially
        ctx.clearRect(0, 0, signatureCanvas.width, signatureCanvas.height);

        // Set drawing properties
        ctx.lineWidth = 2;
        ctx.lineCap = 'round';
        ctx.strokeStyle = '#000'; // Black ink color

        // --- Drawing Functions ---

        function getMousePos(canvas, evt) {
            const rect = canvas.getBoundingClientRect();
            return {
                x: evt.clientX - rect.left,
                y: evt.clientY - rect.top
            };
        }

        function getTouchPos(canvas, evt) {
             const rect = canvas.getBoundingClientRect();
             const touch = evt.touches[0];
             return {
                 x: touch.clientX - rect.left,
                 y: touch.clientY - rect.top
             };
         }


        function startDrawing(e) {
            drawing = true;
            const pos = e.type.includes('mouse') ? getMousePos(signatureCanvas, e) : getTouchPos(signatureCanvas, e);
            lastX = pos.x;
            lastY = pos.y;
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            e.preventDefault(); // Prevent scrolling on touch
        }

        function draw(e) {
            if (!drawing) return;

            const pos = e.type.includes('mouse') ? getMousePos(signatureCanvas, e) : getTouchPos(signatureCanvas, e);

            ctx.lineTo(pos.x, pos.y);
            ctx.stroke();

            lastX = pos.x;
            lastY = pos.y;

            if (!hasDrawn) {
                hasDrawn = true;
                acceptSignatureBtn.disabled = false; // Enable button only after first drawing action
            }
             e.preventDefault(); // Prevent scrolling on touch
        }

        function stopDrawing() {
            drawing = false;
            ctx.closePath();
        }

        // --- Event Listeners for Drawing ---

        // Mouse events
        signatureCanvas.addEventListener('mousedown', startDrawing);
        signatureCanvas.addEventListener('mousemove', draw);
        signatureCanvas.addEventListener('mouseup', stopDrawing);
        signatureCanvas.addEventListener('mouseout', stopDrawing); // Stop if mouse leaves canvas

        // Touch events
        signatureCanvas.addEventListener('touchstart', startDrawing);
        signatureCanvas.addEventListener('touchmove', draw);
        signatureCanvas.addEventListener('touchend', stopDrawing);
        signatureCanvas.addEventListener('touchcancel', stopDrawing); // Stop if touch is interrupted

        // --- Button Functionality ---

        clearSignatureBtn.addEventListener('click', () => {
            ctx.clearRect(0, 0, signatureCanvas.width, signatureCanvas.height);
            hasDrawn = false; // Reset the drawing flag
            acceptSignatureBtn.disabled = true; // Disable button again
        });

        acceptSignatureBtn.addEventListener('click', () => {
            if (hasDrawn) {
                // Here you could potentially save the signature image data
                // For this example, we just hide the modal and show the contract
                modalBackdrop.style.display = 'none';
                contractContainer.style.display = 'block';
                document.body.style.overflow = 'auto'; // Restore scrolling
            }
        });

        // --- Initial State ---
        // The modal is visible by default via HTML structure and CSS display properties.
        // The contract is hidden by default via CSS display: none.
        // The accept button is disabled by default via HTML disabled attribute.

        // Prevent background scrolling while modal is open
        document.body.style.overflow = 'hidden';


    </script>

</body>
</html>
